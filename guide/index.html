<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial - junctions.js</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/manifest.json">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">

  <meta property="og:site_name" content="Junctions.js" />
  <meta property="og:type" content="article" />
  <meta name="twitter:card" content="summary" />

  
    <meta name="description" content="A step-by-step tutorial that will teach you how to create a small app using Junctions and create-react-app." />
    <meta property="og:description" content="A step-by-step tutorial that will teach you how to create a small app using Junctions and create-react-app." />
    <meta name="twitter:description" content="A step-by-step tutorial that will teach you how to create a small app using Junctions and create-react-app." />
  
  
    <meta property="og:title" content="Learn junctions.js with create-react-app" />
    <meta name="twitter:title" content="Learn junctions.js with create-react-app" />
  
  
    <meta property="og:image" content="https://junctions.js.org/logo.png?1" />
    <meta name="twitter:image" content="https://junctions.js.org/logo.png?1" />
  
  

  
    <link rel="stylesheet" type="text/css" href="/site-bundle.f5f606b3.css">
  
</head>
<body>
  <div id="app">
    <div class="RootWrapper" data-reactroot="" data-reactid="1" data-react-checksum="408349449"><div class="RootWrapper-header" data-reactid="2"><div class="RootWrapper-header-inner" data-reactid="3"><a href="/" class="RootWrapper-junctions" data-reactid="4"><div class="RootWrapper-junctions-logo" data-reactid="5"></div><!-- react-text: 6 -->Junctions<!-- /react-text --></a><a class="RootWrapper-github" href="https://github.com/jamesknelson/junctions" data-reactid="7">GitHub</a><div class="RootWrapper-links" data-reactid="8"><a href="/guide" class="RootWrapper-link RootWrapper-link-active" data-reactid="9">Guide</a><a href="/examples" class="RootWrapper-link " data-reactid="10">Examples</a><a href="/api" class="RootWrapper-link " data-reactid="11">API Reference</a></div></div></div><div class="RootWrapper-body" data-reactid="12"><div data-reactid="13"><div class="MenuWrapper" data-reactid="14"><div class="
            MenuWrapper-sidebar
            MenuWrapper-closed
          " data-reactid="15"><a class="MenuWrapper-active" href="/guide" data-reactid="16">Tutorial</a><ul class="MenuWrapper-menu" data-reactid="17"><li class="MenuWrapper-heading" data-reactid="18"><a href="/guide" class="MenuWrapper-link MenuWrapper-link-active MenuWrapper-link-primary" data-reactid="19">Tutorial</a></li><li class="MenuWrapper-section" data-reactid="20"><div data-reactid="21">Introduction</div><ul class="MenuWrapper-submenu" data-reactid="22"><li data-reactid="23"><a href="/guide/introduction/do-i-need-a-router" class="MenuWrapper-link  " data-reactid="24">Do I Need A Router?</a></li><li data-reactid="25"><a href="/guide/introduction/motivation" class="MenuWrapper-link  " data-reactid="26">Motivation</a></li><li data-reactid="27"><a href="/guide/introduction/three-principles" class="MenuWrapper-link  " data-reactid="28">The Haiku Of Routing Principles</a></li><li data-reactid="29"><a href="/guide/introduction/what-you-get-from-junctions" class="MenuWrapper-link  " data-reactid="30">What You Get From Junctions</a></li></ul></li><li class="MenuWrapper-section" data-reactid="31"><div data-reactid="32">Basics</div><ul class="MenuWrapper-submenu" data-reactid="33"><li data-reactid="34"><a href="/guide/basics/locations" class="MenuWrapper-link  " data-reactid="35">Locations</a></li><li data-reactid="36"><a href="/guide/basics/routes" class="MenuWrapper-link  " data-reactid="37">Routes</a></li><li data-reactid="38"><a href="/guide/basics/junctions" class="MenuWrapper-link  " data-reactid="39">Junctions</a></li><li data-reactid="40"><a href="/guide/basics/converting-locations-to-routes" class="MenuWrapper-link  " data-reactid="41">Converting Locations to Routes</a></li><li data-reactid="42"><a href="/guide/basics/the-screen-pattern" class="MenuWrapper-link  " data-reactid="43">The Screen Pattern</a></li><li data-reactid="44"><a href="/guide/basics/links" class="MenuWrapper-link  " data-reactid="45">Links</a></li><li data-reactid="46"><a href="/guide/basics/example-contact-list" class="MenuWrapper-link  " data-reactid="47">Example: Contact List</a></li></ul></li><li class="MenuWrapper-section" data-reactid="48"><div data-reactid="49">Advanced</div><ul class="MenuWrapper-submenu" data-reactid="50"><li data-reactid="51"><a href="/guide/advanced/contextual-links" class="MenuWrapper-link  " data-reactid="52">Pass history via context</a></li><li data-reactid="53"><a href="/guide/advanced/canonical-locations" class="MenuWrapper-link  " data-reactid="54">Canonical Location</a></li></ul></li><li class="MenuWrapper-heading" data-reactid="55"><a href="/guide/Glossary" class="MenuWrapper-link  MenuWrapper-link-primary" data-reactid="56">Glossary</a></li></ul><div class="MenuWrapper-arrows" data-reactid="57"><a class="MenuWrapper-arrows-next" href="/guide/introduction/do-i-need-a-router" data-reactid="58">Do I Need A Router?</a></div></div><div class="MenuWrapper-body" data-reactid="59"><h1 class="MenuWrapper-title" data-reactid="60">Tutorial</h1><div class="MarkdownView" data-reactid="61"><div class="
    CommunicationStateView
    CommunicationStateView-fresh
  " data-reactid="62"></div><div data-reactid="63"><p data-reactid="64"><!-- react-text: 65 -->This guide will walk you through putting together a small React app from scratch using Junctions and <!-- /react-text --><a href="https://github.com/facebookincubator/create-react-app" data-reactid="66">create-react-app</a><!-- react-text: 67 -->.<!-- /react-text --></p><p data-reactid="68"><!-- react-text: 69 -->It is assumed you’re already reasonably familiar with React. If you’re not, start by reading <!-- /react-text --><a href="http://jamesknelson.com/learn-raw-react-no-jsx-flux-es6-webpack/" data-reactid="70">Learn Raw React</a><!-- react-text: 71 -->.<!-- /react-text --></p><p data-reactid="72"><!-- react-text: 73 -->The result of this guide is <!-- /react-text --><a href="https://github.com/jamesknelson/junctions-react-app" data-reactid="74">available on GitHub</a><!-- react-text: 75 -->.<!-- /react-text --></p><h2 id="creating-your-project" data-reactid="76">Creating your project</h2><p data-reactid="77"><!-- react-text: 78 -->Before getting started, you’ll need to install <!-- /react-text --><code data-reactid="79">create-react-app</code><!-- react-text: 80 --> if you haven’t already:<!-- /react-text --></p><pre class="language-bash" data-reactid="81"><code data-reactid="82">npm <span class="token function" >install</span> -g create-react-app
</code></pre><p data-reactid="83"><!-- react-text: 84 -->Once <!-- /react-text --><code data-reactid="85">create-react-app</code><!-- react-text: 86 --> is installed, create a new app and install <!-- /react-text --><code data-reactid="87">junctions</code><!-- react-text: 88 -->, <!-- /react-text --><code data-reactid="89">react-junctions</code><!-- react-text: 90 --> and <!-- /react-text --><code data-reactid="91">history</code><!-- react-text: 92 -->:<!-- /react-text --></p><pre class="language-bash" data-reactid="93"><code data-reactid="94">create-react-app junctions-demo
<span class="token function" >cd</span> junctions-demo
npm <span class="token function" >install</span> junctions react-junctions --save-dev
npm start
</code></pre><p data-reactid="95"><!-- react-text: 96 -->Then open <!-- /react-text --><a href="http://localhost:3000/" data-reactid="97">http://localhost:3000/</a><!-- react-text: 98 -->. You should see a spinning React logo, which means you’re ready to get started!<!-- /react-text --></p><h2 id="adding-a-menu" data-reactid="99">Adding a menu</h2><p data-reactid="100"><!-- react-text: 101 -->All good demo apps have menus, so let’s start by adding a simple one using <!-- /react-text --><code data-reactid="102">&lt;a&gt;</code><!-- react-text: 103 --> tags.<!-- /react-text --></p><p data-reactid="104"><!-- react-text: 105 -->A project generated with <!-- /react-text --><code data-reactid="106">create-react-app</code><!-- react-text: 107 --> only has one component – the <!-- /react-text --><code data-reactid="108">App</code><!-- react-text: 109 --> component in <!-- /react-text --><code data-reactid="110">App.js</code><!-- react-text: 111 -->. So let’s add our menu there by replacing its <!-- /react-text --><code data-reactid="112">render()</code><!-- react-text: 113 --> method:<!-- /react-text --></p><pre class="language-js" data-reactid="114"><code data-reactid="115">  <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>ul</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>a</span> <span class="token attr-name" >href</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>/dashboard<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>Dashboard<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>a</span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>a</span> <span class="token attr-name" >href</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>/invoices<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>Invoices<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>a</span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>ul</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
    <span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span>
</code></pre><p data-reactid="116"><!-- react-text: 117 -->After saving your changes, you should see a very simple menu. You can even click the links and see how the URL changes! This works because the server included with <!-- /react-text --><code data-reactid="118">create-react-app</code><!-- react-text: 119 --> will redirect any requests to your one <!-- /react-text --><code data-reactid="120">index.html</code><!-- react-text: 121 --> file. But it’s behaviour isn’t exactly what we’d like; every click will result in a flash and refresh of the page.<!-- /react-text --></p><h2 id="history-and" data-reactid="122"><!-- react-text: 123 -->History and <!-- /react-text --><code data-reactid="124">pushState</code></h2><p data-reactid="125"><!-- react-text: 126 -->Instead of letting the browser do a standard page load when the user selects a menu item, we’d like to use the <!-- /react-text --><a href="https://developer.mozilla.org/en/docs/Web/API/History" data-reactid="127">History API</a><!-- react-text: 128 -->’s <!-- /react-text --><code data-reactid="129">pushState()</code><!-- react-text: 130 --> method to update the URL <!-- /react-text --><em data-reactid="131">without</em><!-- react-text: 132 --> reloading the page.<!-- /react-text --></p><p data-reactid="133"><!-- react-text: 134 -->The behaviour of the History API can differ between browsers. You could deal with these differences by yourself, but it is easier to use the wrapper provided by the <!-- /react-text --><a href="https://github.com/mjackson/history" data-reactid="135">history</a><!-- react-text: 136 --> package.<!-- /react-text --></p><p data-reactid="137"><!-- react-text: 138 -->You should have installed this earlier, so all that is left is to import <!-- /react-text --><code data-reactid="139">createBrowserHistory</code><!-- react-text: 140 --> and then to actually create one!<!-- /react-text --></p><pre class="language-jsx" data-reactid="141"><code data-reactid="142"><span class="token keyword" >import</span> createBrowserHistory <span class="token keyword" >from</span> <span class="token string" >'history/createBrowserHistory'</span>

<span class="token keyword" >const</span> history <span class="token operator" >=</span> <span class="token function" >createBrowserHistory</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span>

<span class="token keyword" >class</span> <span class="token class-name" >App</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
    <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation" >}</span>
</code></pre><h2 id="links" data-reactid="143">Links</h2><p data-reactid="144"><!-- react-text: 145 -->Now that you have access to a <!-- /react-text --><code data-reactid="146">history</code><!-- react-text: 147 --> object, you’ll need to use it to replace the default navigation events with <!-- /react-text --><code data-reactid="148">pushState()</code><!-- react-text: 149 --> calls.<!-- /react-text --></p><p data-reactid="150"><!-- react-text: 151 -->The idea is to add an <!-- /react-text --><code data-reactid="152">onClick</code><!-- react-text: 153 --> event handler to each <!-- /react-text --><code data-reactid="154">&lt;a&gt;</code><!-- react-text: 155 --> element, and to cancel the default action and call <!-- /react-text --><code data-reactid="156">history.push()</code><!-- react-text: 157 --> instead:<!-- /react-text --></p><pre class="language-js" data-reactid="158"><code data-reactid="159"><span class="token keyword" >function</span> <span class="token function" >pushDashboard</span><span class="token punctuation" >(</span>e<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    e<span class="token punctuation" >.</span><span class="token function" >preventDefault</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span>
    history<span class="token punctuation" >.</span><span class="token function" >push</span><span class="token punctuation" >(</span><span class="token string" >'/dashboard'</span><span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>

<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>a</span> <span class="token attr-name" >href</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>/dashboard<span class="token punctuation" >"</span></span> <span class="token attr-name" >onClick</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>pushDashboard<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Dashboard<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>a</span><span class="token punctuation" >></span></span>
</code></pre><p data-reactid="160"><!-- react-text: 161 -->Of course, writing this out for each link would be traumatic. And it wouldn’t be very user-friendly, either – right clicking isn’t handled well, <!-- /react-text --><code data-reactid="162">target</code><!-- react-text: 163 --> props on the <!-- /react-text --><code data-reactid="164">&lt;a&gt;</code><!-- react-text: 165 --> are not handled well, etc. Luckily, The <!-- /react-text --><code data-reactid="166">react-junctions</code><!-- react-text: 167 --> package provides a <!-- /react-text --><code data-reactid="168">&lt;Link&gt;</code><!-- react-text: 169 --> component which handles all of this for you!<!-- /react-text --></p><p data-reactid="170"><!-- react-text: 171 -->The <!-- /react-text --><code data-reactid="172">&lt;Link&gt;</code><!-- react-text: 173 --> component provided by <!-- /react-text --><code data-reactid="174">react-junctions</code><!-- react-text: 175 --> takes two parameters:<!-- /react-text --></p><ul data-reactid="176"><li data-reactid="177"><code data-reactid="178">to</code><!-- react-text: 179 -->: A <!-- /react-text --><a href="/api/junctions/Location" data-reactid="180">Location</a><!-- react-text: 181 --> object specifying where the Link points top<!-- /react-text --></li><li data-reactid="182"><code data-reactid="183">history</code><!-- react-text: 184 -->: An optional <!-- /react-text --><code data-reactid="185">history</code><!-- react-text: 186 --> object whose <!-- /react-text --><code data-reactid="187">push()</code><!-- react-text: 188 --> method should be called<!-- /react-text --></li></ul><p data-reactid="189"><!-- react-text: 190 -->Let’s replace the existing <!-- /react-text --><code data-reactid="191">&lt;a&gt;</code><!-- react-text: 192 --> tags with <!-- /react-text --><code data-reactid="193">&lt;Link&gt;</code><!-- react-text: 194 --> elements:<!-- /react-text --></p><pre class="language-js" data-reactid="195"><code data-reactid="196"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span>
        <span class="token attr-name" >history</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>history<span class="token punctuation" >}</span></span>
        <span class="token attr-name" >to</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> pathname<span class="token punctuation" >:</span> <span class="token string" >"/dashboard"</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
        Dashboard
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span> 
        <span class="token attr-name" >history</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>history
        to<span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> pathname<span class="token punctuation" >:</span> <span class="token string" >"/invoices"</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
        Invoices
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
</code></pre><p data-reactid="197"><em data-reactid="198"><!-- react-text: 199 -->Note: the <!-- /react-text --><code data-reactid="200">history</code><!-- react-text: 201 --> prop is optional, but your links still need access to a <!-- /react-text --><code data-reactid="202">history</code><!-- react-text: 203 -->! If you don’t pass <!-- /react-text --><code data-reactid="204">history</code><!-- react-text: 205 --> via <!-- /react-text --><code data-reactid="206">props</code><!-- react-text: 207 -->, you’ll need to pass it via <!-- /react-text --><code data-reactid="208">context</code><!-- react-text: 209 -->, using the <!-- /react-text --><code data-reactid="210">&lt;HistoryContext&gt;</code><!-- react-text: 211 --> or <!-- /react-text --><code data-reactid="212">&lt;Router&gt;</code><!-- react-text: 213 --> components. We’ll discuss this a little later on.<!-- /react-text --></em></p><p data-reactid="214">After saving your file, you should be able to follow click links without a page refresh. You’re making progress! But there is one problem: how do we know that the user has navigated?</p><h2 id="handling-navigation-events" data-reactid="215">Handling navigation events</h2><p data-reactid="216"><!-- react-text: 217 -->Each time a new state is pushed onto your <!-- /react-text --><code data-reactid="218">history</code><!-- react-text: 219 --> object, it notifies any listeners that you’ve added. So how do you add a listener? By using <!-- /react-text --><code data-reactid="220">history.listen()</code><!-- react-text: 221 -->!<!-- /react-text --></p><p data-reactid="222">Here’s an example which prints the new path to the JavaScript console each time you click a link:</p><pre class="language-js" data-reactid="223"><code data-reactid="224">history<span class="token punctuation" >.</span><span class="token function" >listen</span><span class="token punctuation" >(</span>location <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    console<span class="token punctuation" >.</span><span class="token function" >log</span><span class="token punctuation" >(</span>location<span class="token punctuation" >.</span>pathname<span class="token punctuation" >)</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span>
</code></pre><p data-reactid="225"><!-- react-text: 226 -->Of course, just printing the location to the console isn’t going to help very much. What you <!-- /react-text --><em data-reactid="227">really</em><!-- react-text: 228 --> want to do is use the location to decide what to render. But this means that the current location will need to be available as component state. And <!-- /react-text --><em data-reactid="229">that</em><!-- react-text: 230 --> means that you’re going to need to call <!-- /react-text --><code data-reactid="231">history.listen()</code><!-- react-text: 232 --> within a lifecycle method.<!-- /react-text --></p><p data-reactid="233"><!-- react-text: 234 -->The details on lifecycle methods and component state aren’t really relevant to this guide, so let’s skip them and just say that your <!-- /react-text --><code data-reactid="235">App</code><!-- react-text: 236 --> component is going to look something like this:<!-- /react-text --></p><pre class="language-js" data-reactid="237"><code data-reactid="238"><span class="token keyword" >class</span> <span class="token class-name" >App</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
    <span class="token function" >constructor</span><span class="token punctuation" >(</span>props<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >super</span><span class="token punctuation" >(</span>props<span class="token punctuation" >)</span> 
        
        <span class="token keyword" >this</span><span class="token punctuation" >.</span>state <span class="token operator" >=</span> <span class="token punctuation" >{</span>
            <span class="token comment" spellcheck="true">// The initial location at page load is</span>
            <span class="token comment" spellcheck="true">// available at history.location</span>
            location<span class="token punctuation" >:</span> history<span class="token punctuation" >.</span>location
        <span class="token punctuation" >}</span>
        
        history<span class="token punctuation" >.</span><span class="token function" >listen</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>handleNavigation<span class="token punctuation" >.</span><span class="token function" >bind</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>
    <span class="token punctuation" >}</span>

    <span class="token function" >handleNavigation</span><span class="token punctuation" >(</span>location<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> location <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
    <span class="token punctuation" >}</span>

    <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
                <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>ul</span><span class="token punctuation" >></span></span>
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span>
                        <span class="token attr-name" >history</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>history<span class="token punctuation" >}</span></span>
                        <span class="token attr-name" >to</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> pathname<span class="token punctuation" >:</span> <span class="token string" >"/dashboard"</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
                        Dashboard
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span> 
                        <span class="token attr-name" >history</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>history
                        to<span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> pathname<span class="token punctuation" >:</span> <span class="token string" >"/invoices"</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
                        Invoices
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
                <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>ul</span><span class="token punctuation" >></span></span>
                <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h1</span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>location<span class="token punctuation" >.</span>pathname<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h1</span><span class="token punctuation" >></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
        <span class="token punctuation" >)</span>
    <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
</code></pre><p data-reactid="239">With this, your new heading element should reflect the current pathname. You’ve made a router! Congratulations!</p><h2 id="do-i-really-need-a-router" data-reactid="240">Do I Really Need A Router?</h2><p data-reactid="241"><!-- react-text: 242 -->This may seem out of place in a tutorial for a routing library, but it is an important question to ask. <!-- /react-text --><em data-reactid="243">Do I Really Need A Router?</em></p><p data-reactid="244">The thing about routing libraries is that they’re only useful when they solve a genuine problem. Otherwise, they’re just taking up space.</p><p data-reactid="245"><strong data-reactid="246">The single major problem that a routing library can solve for you is the structural mismatch between URLs and your React component tree.</strong></p><p data-reactid="247">If the routing state in your app is only ever used by your top most component – like in the above example – then you don’t have a problem.</p><p data-reactid="248">But what if you have nested components which each need to access some part of your routing state? In this case, manually passing navigation state around is clumsy and error-prone.</p><p data-reactid="249"><img src="/b8f87f8fdb4c0295e0cfd931310d74ba.png" alt="Flat URLs don&#x27;t match nested components" data-reactid="250"/><em data-reactid="251">It might not be impossible to get the information to the right component, but it certainly won’t be any fun.</em></p><p data-reactid="252"><!-- react-text: 253 -->Instead, you’re going to want a representation of your routing state which better matches the structure of your component tree. And that’s where Junctions’ <!-- /react-text --><code data-reactid="254">Route</code><!-- react-text: 255 --> structure comes in.<!-- /react-text --></p><p data-reactid="256"><img src="/63d8539be1b481ea13cd9ca3831fb00f.png" alt="Flat URLs don&#x27;t match nested components" data-reactid="257"/><em data-reactid="258">Route objects are designed to match the structure of your component tree perfectly.</em></p><h2 id="routes" data-reactid="259">Routes</h2><p data-reactid="260"><!-- react-text: 261 -->A <!-- /react-text --><code data-reactid="262">Route</code><!-- react-text: 263 --> is a data structure which holds information about the user’s current Location within the app. In fact, it holds <!-- /react-text --><em data-reactid="264">exactly</em><!-- react-text: 265 --> the same information as a <!-- /react-text --><code data-reactid="266">Location</code><!-- react-text: 267 -->. It just uses a different format, which looks a little like this:<!-- /react-text --></p><pre class="language-js" data-reactid="268"><code data-reactid="269"><span class="token punctuation" >{</span>
    <span class="token comment" spellcheck="true">// An name used to identify the *type* of route</span>
    key<span class="token punctuation" >:</span> <span class="token string" >'Invoice'</span><span class="token punctuation" >,</span>
    
    <span class="token comment" spellcheck="true">// Params extracted from the URL and query string</span>
    params<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> id<span class="token punctuation" >:</span> <span class="token string" >'12345'</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    
    <span class="token comment" spellcheck="true">// A property which can hold a *nested* route </span>
    next<span class="token punctuation" >:</span> <span class="token keyword" >null</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span>
</code></pre><p data-reactid="270"><!-- react-text: 271 -->Returning now to our application, remember that we have a heading which prints the current location by <!-- /react-text --><code data-reactid="272">pathname</code><!-- react-text: 273 -->:<!-- /react-text --></p><pre class="language-js" data-reactid="274"><code data-reactid="275"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h1</span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>location<span class="token punctuation" >.</span>pathname<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h1</span><span class="token punctuation" >></span></span>
</code></pre><p data-reactid="276"><!-- react-text: 277 -->But suppose what we’d really like to do is print the <!-- /react-text --><code data-reactid="278">key</code><!-- react-text: 279 --> of the <!-- /react-text --><code data-reactid="280">Route</code><!-- react-text: 281 --> that corresponds to our current location:<!-- /react-text --></p><pre class="language-js" data-reactid="282"><code data-reactid="283"><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h1</span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>route<span class="token punctuation" >.</span>key<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h1</span><span class="token punctuation" >></span></span>
</code></pre><p data-reactid="284"><!-- react-text: 285 -->The question becomes: <!-- /react-text --><em data-reactid="286"><!-- react-text: 287 -->how do we get hold of one of these <!-- /react-text --><code data-reactid="288">Route</code><!-- react-text: 289 --> objects?<!-- /react-text --></em></p><h2 id="converting-objects-to-objects" data-reactid="290"><!-- react-text: 291 -->Converting <!-- /react-text --><code data-reactid="292">Location</code><!-- react-text: 293 --> objects to <!-- /react-text --><code data-reactid="294">Route</code><!-- react-text: 295 --> objects<!-- /react-text --></h2><p data-reactid="296"><!-- react-text: 297 -->There is an easy way to do this, and an <!-- /react-text --><em data-reactid="298">even easier</em><!-- react-text: 299 --> way.<!-- /react-text --></p><ul data-reactid="300"><li data-reactid="301"><!-- react-text: 302 -->The easy way involves using a <!-- /react-text --><code data-reactid="303">Converter</code><!-- react-text: 304 --> object to convert between <!-- /react-text --><code data-reactid="305">Location</code><!-- react-text: 306 --> and <!-- /react-text --><code data-reactid="307">Route</code><!-- react-text: 308 --> objects.<!-- /react-text --></li><li data-reactid="309"><!-- react-text: 310 -->The <!-- /react-text --><em data-reactid="311">even easier</em><!-- react-text: 312 --> way is to use the <!-- /react-text --><code data-reactid="313">&lt;Router&gt;</code><!-- react-text: 314 --> component provided by <!-- /react-text --><code data-reactid="315">react-junctions</code><!-- react-text: 316 -->. And as a bonus, this will set <!-- /react-text --><code data-reactid="317">history</code><!-- react-text: 318 --> on its context, removing the need to manually pass it to <!-- /react-text --><code data-reactid="319">&lt;Link&gt;</code><!-- react-text: 320 --> elements rendered inside it.<!-- /react-text --></li></ul><p data-reactid="321"><!-- react-text: 322 -->Actually, the <!-- /react-text --><code data-reactid="323">&lt;Router&gt;</code><!-- react-text: 324 --> component still uses a <!-- /react-text --><code data-reactid="325">Converter</code><!-- react-text: 326 --> internally. It just lets you trade away a little flexibility for a whole lot less boilerplate. And since you probably don’t need to configure the <!-- /react-text --><code data-reactid="327">Converter</code><!-- react-text: 328 --> manually, this is a pretty good deal. So let’s go with the <!-- /react-text --><em data-reactid="329">even easier</em><!-- react-text: 330 --> option.<!-- /react-text --></p><h2 id="the-component" data-reactid="331"><!-- react-text: 332 -->The <!-- /react-text --><code data-reactid="333">&lt;Router&gt;</code><!-- react-text: 334 --> Component<!-- /react-text --></h2><p data-reactid="335"><code data-reactid="336">&lt;Router&gt;</code><!-- react-text: 337 --> is a component provided by the <!-- /react-text --><code data-reactid="338">react-junctions</code><!-- react-text: 339 --> package that takes three props, but let me tell you about two of them:<!-- /react-text --></p><ul data-reactid="340"><li data-reactid="341"><code data-reactid="342">history</code><!-- react-text: 343 --> - a history object to <!-- /react-text --><code data-reactid="344">listen()</code><!-- react-text: 345 --> to<!-- /react-text --></li><li data-reactid="346"><code data-reactid="347">render</code><!-- react-text: 348 --> - a React element (or function returning an element) that will be rendered<!-- /react-text --></li></ul><p data-reactid="349"><!-- react-text: 350 -->The <!-- /react-text --><code data-reactid="351">&lt;Router&gt;</code><!-- react-text: 352 --> takes care of all of the history-related boilerplate that was added earlier. All that is left to do is give it a <!-- /react-text --><code data-reactid="353">history</code><!-- react-text: 354 --> object and an element to render.<!-- /react-text --></p><p data-reactid="355"><em data-reactid="356">But how does the rendered element know what the current route is?</em></p><p data-reactid="357"><!-- react-text: 358 -->Each time the current location changes, <!-- /react-text --><code data-reactid="359">&lt;Router&gt;</code><!-- react-text: 360 --> will calculate a corresponding <!-- /react-text --><code data-reactid="361">Route</code><!-- react-text: 362 --> and inject it into your <!-- /react-text --><code data-reactid="363">render</code><!-- react-text: 364 --> element’s props as <!-- /react-text --><code data-reactid="365">route</code><!-- react-text: 366 -->. This might be a bit of a mouthful, but it is pretty simple when you see it in action:<!-- /react-text --></p><pre class="language-js" data-reactid="367"><code data-reactid="368"><span class="token comment" spellcheck="true">// This component will receive a `route` prop from the `&lt;Router>`</span>
<span class="token comment" spellcheck="true">// component. You can add any other props that you'd like to pass</span>
<span class="token comment" spellcheck="true">// within the `render()` method of the App Component.</span>
<span class="token keyword" >class</span> <span class="token class-name" >Root</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
    <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
                <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>ul</span><span class="token punctuation" >></span></span>
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span>
                        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span> <span class="token attr-name" >to</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> pathname<span class="token punctuation" >:</span> <span class="token string" >"/dashboard"</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
                            Dashboard
                        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span>
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span>
                        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span> <span class="token attr-name" >to</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> pathname<span class="token punctuation" >:</span> <span class="token string" >"/invoices"</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
                            Invoices
                        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span>
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
                <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>ul</span><span class="token punctuation" >></span></span>
                <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h1</span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>route<span class="token punctuation" >.</span>key<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h1</span><span class="token punctuation" >></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
        <span class="token punctuation" >)</span>
    <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>

<span class="token keyword" >class</span> <span class="token class-name" >App</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
    <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Router</span>
                <span class="token attr-name" >history</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>history<span class="token punctuation" >}</span></span>
                <span class="token attr-name" >render={&lt;Root</span> <span class="token punctuation" >/></span></span><span class="token punctuation" >}</span>
            <span class="token operator" >/</span><span class="token operator" >></span>
        <span class="token punctuation" >)</span>
    <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
</code></pre><p data-reactid="369"><!-- react-text: 370 -->This makes your app <!-- /react-text --><em data-reactid="371">almost</em><!-- react-text: 372 --> complete, but there is just one problem. <!-- /react-text --><code data-reactid="373">&lt;Router&gt;</code><!-- react-text: 374 --> doesn’t actually know how to convert <!-- /react-text --><code data-reactid="375">Location</code><!-- react-text: 376 --> objects into <!-- /react-text --><code data-reactid="377">Route</code><!-- react-text: 378 --> objects.<!-- /react-text --></p><p data-reactid="379"><!-- react-text: 380 -->Remember that I mentioned that the <!-- /react-text --><code data-reactid="381">&lt;Router&gt;</code><!-- react-text: 382 --> takes <!-- /react-text --><em data-reactid="383">three</em><!-- react-text: 384 --> props? The third prop is actually <!-- /react-text --><em data-reactid="385">required</em><!-- react-text: 386 -->; it is how <!-- /react-text --><code data-reactid="387">&lt;Router&gt;</code><!-- react-text: 388 --> knows how to convert between locations and routes. So what is this mysterious third prop? It is the <!-- /react-text --><code data-reactid="389">junction</code><!-- react-text: 390 --> prop, and you need to pass it a <!-- /react-text --><code data-reactid="391">Junction</code><!-- react-text: 392 -->.<!-- /react-text --></p><h2 id="junctions" data-reactid="393">Junctions</h2><p data-reactid="394"><!-- react-text: 395 -->Your <!-- /react-text --><code data-reactid="396">&lt;Router&gt;</code><!-- react-text: 397 --> uses a <!-- /react-text --><code data-reactid="398">Junction</code><!-- react-text: 399 --> object to decide how to map <!-- /react-text --><code data-reactid="400">Location</code><!-- react-text: 401 --> objects to <!-- /react-text --><code data-reactid="402">Route</code><!-- react-text: 403 --> objects. But instead of trying to explain how that works, let’s just create one. Here is how:<!-- /react-text --></p><pre class="language-js" data-reactid="404"><code data-reactid="405"><span class="token comment" spellcheck="true">// Add this inside your `Root` class definition</span>
<span class="token keyword" >static</span> junction <span class="token operator" >=</span> <span class="token function" >createJunction</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    Dashboard<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >default</span><span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
        path<span class="token punctuation" >:</span> <span class="token string" >'/dashboard'</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    Invoices<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        path<span class="token punctuation" >:</span> <span class="token string" >'/invoices'</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span>
</code></pre><p data-reactid="406"><!-- react-text: 407 -->This will add a static <!-- /react-text --><code data-reactid="408">junction</code><!-- react-text: 409 --> property to your <!-- /react-text --><code data-reactid="410">Root</code><!-- react-text: 411 --> component. All that is left is to pass it to the <!-- /react-text --><code data-reactid="412">&lt;Router&gt;</code><!-- react-text: 413 --> element:<!-- /react-text --></p><pre class="language-js" data-reactid="414"><code data-reactid="415"><span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Router</span>
            <span class="token attr-name" >history</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>history<span class="token punctuation" >}</span></span>
            <span class="token attr-name" >junction</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>Root<span class="token punctuation" >.</span>junction<span class="token punctuation" >}</span></span>
            <span class="token attr-name" >render={&lt;Root</span> <span class="token punctuation" >/></span></span><span class="token punctuation" >}</span>
        <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>
</code></pre><p data-reactid="416"><!-- react-text: 417 -->Congratulations! You now have a working application that lets you navigate between pages, and each page will display the route <!-- /react-text --><code data-reactid="418">key</code><!-- react-text: 419 --> – i.e. the key of the object passed to <!-- /react-text --><code data-reactid="420">createJunction()</code><!-- react-text: 421 --> that contains the current <!-- /react-text --><code data-reactid="422">path</code><!-- react-text: 423 -->.<!-- /react-text --></p><h2 id="why-you-need-junctions" data-reactid="424">Why you need Junctions</h2><p data-reactid="425"><!-- react-text: 426 -->A <!-- /react-text --><code data-reactid="427">Junction</code><!-- react-text: 428 --> is an object which defines the possible locations that a <!-- /react-text --><code data-reactid="429">&lt;Router&gt;</code><!-- react-text: 430 --> needs to consider. The question is, <!-- /react-text --><em data-reactid="431">why</em><!-- react-text: 432 --> does a <!-- /react-text --><code data-reactid="433">&lt;Router&gt;</code><!-- react-text: 434 --> need to know all possible locations?<!-- /react-text --></p><p data-reactid="435">To answer this, let’s go over an example. Imagine you have the following URL:</p><code data-reactid="436">/invoices/add
</code><p data-reactid="437"><!-- react-text: 438 -->Assuming you don’t also have access to a <!-- /react-text --><code data-reactid="439">Junction</code><!-- react-text: 440 --> object, my question for you is: <!-- /react-text --><em data-reactid="441">what does this URL represent?</em><!-- react-text: 442 --> Give this a little thought and come up with an answer before moving on.<!-- /react-text --></p><p data-reactid="443"><strong data-reactid="444">…</strong></p><p data-reactid="445"><!-- react-text: 446 -->So what was your answer? Or more precisely, did you even <!-- /react-text --><em data-reactid="447">have</em><!-- react-text: 448 --> an answer? The problem is that you can’t actually know, because:<!-- /react-text --></p><ul data-reactid="449"><li data-reactid="450"><!-- react-text: 451 -->The URL could represent an <!-- /react-text --><code data-reactid="452">Add Invoice</code><!-- react-text: 453 --> form<!-- /react-text --></li><li data-reactid="454"><!-- react-text: 455 -->The URL could represent an Invoice with the ID <!-- /react-text --><code data-reactid="456">add</code></li><li data-reactid="457">The URL may be a 404</li><li data-reactid="458">Or the URL may be some gateway into a hidden world for all we know</li></ul><p data-reactid="459"><!-- react-text: 460 -->But once you have access to the <!-- /react-text --><code data-reactid="461">Junction</code><!-- react-text: 462 --> you defined above, the answer becomes easy; this URL is a 404. And honestly, this behaviour is kinda crap. So let’s fix it.<!-- /react-text --></p><p data-reactid="463"><!-- react-text: 464 -->Obviously, the URL <!-- /react-text --><code data-reactid="465">/invoices/add</code><!-- react-text: 466 --> should <!-- /react-text --><em data-reactid="467">really</em><!-- react-text: 468 --> be used to display an invoice with the ID <!-- /react-text --><code data-reactid="469">add</code><!-- react-text: 470 -->. Seriously, you never know what an invoice could be called. But adding a new entry to your <!-- /react-text --><code data-reactid="471">Junction</code><!-- react-text: 472 --> for <!-- /react-text --><em data-reactid="473">every possible ID</em><!-- react-text: 474 --> doesn’t scale, so let’s use a URL parameter instead.<!-- /react-text --></p><h2 id="parameters" data-reactid="475">Parameters</h2><p data-reactid="476">Parameters are a way to specify that a possible route may have some associated data like an id, or search query.</p><p data-reactid="477"><!-- react-text: 478 -->To add a parameter to your route, you’ll first need to configure your <!-- /react-text --><code data-reactid="479">Junction</code><!-- react-text: 480 --> with it. Given you’d like to display an invoice view for any URL of the form <!-- /react-text --><code data-reactid="481">/invoices/???</code><!-- react-text: 482 -->, and you’d like the second part of that URL to be accessible at <!-- /react-text --><code data-reactid="483">route.params.id</code><!-- react-text: 484 -->, you can configure your <!-- /react-text --><code data-reactid="485">Junction</code><!-- react-text: 486 --> like so:<!-- /react-text --></p><pre class="language-js" data-reactid="487"><code data-reactid="488"><span class="token keyword" >static</span> junction <span class="token operator" >=</span> <span class="token function" >createJunction</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    Dashboard<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >default</span><span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
        path<span class="token punctuation" >:</span> <span class="token string" >'/dashboard'</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    Invoices<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        path<span class="token punctuation" >:</span> <span class="token string" >'/invoices'</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    InvoiceDetails<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        path<span class="token punctuation" >:</span> <span class="token string" >'/invoices/:id'</span><span class="token punctuation" >,</span>
        paramTypes<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
            id<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> required<span class="token punctuation" >:</span> <span class="token boolean" >true</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> 
        <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span>
</code></pre><p data-reactid="489"><!-- react-text: 490 -->The <!-- /react-text --><code data-reactid="491">:</code><!-- react-text: 492 --> character in the path for <!-- /react-text --><code data-reactid="493">InvoiceDetails</code><!-- react-text: 494 --> is a way of telling Junctions that a path segment should match any possible value, and store that value in <!-- /react-text --><code data-reactid="495">route.params</code><!-- react-text: 496 -->. The string after the <!-- /react-text --><code data-reactid="497">:</code><!-- react-text: 498 --> character is the name of the param to store it in.<!-- /react-text --></p><p data-reactid="499"><!-- react-text: 500 -->Junctions does have one idiosyncrasy with regards to parameters; you need to specify a <!-- /react-text --><code data-reactid="501">paramTypes</code><!-- react-text: 502 --> configuration object for each parameter. This configuration can be the blank object <!-- /react-text --><code data-reactid="503">{}</code><!-- react-text: 504 -->, or can include things like default values and serialisation helpers – check the API Reference if you’d like to know more.<!-- /react-text --></p><p data-reactid="505"><!-- react-text: 506 -->Now that you can access the current invoice id at <!-- /react-text --><code data-reactid="507">route.params.id</code><!-- react-text: 508 -->, you’ll want to actually display it!<!-- /react-text --></p><p data-reactid="509"><!-- react-text: 510 -->Keeping in mind that this parameter will only be available when the route <!-- /react-text --><code data-reactid="511">key</code><!-- react-text: 512 --> is <!-- /react-text --><code data-reactid="513">&quot;InvoiceDetails&quot;</code><!-- react-text: 514 -->, you can display the current id by replacing your existing <!-- /react-text --><code data-reactid="515">&lt;h1&gt;</code><!-- react-text: 516 --> tag with something like this:<!-- /react-text --></p><pre class="language-js" data-reactid="517"><code data-reactid="518"><span class="token punctuation" >{</span>
    route<span class="token punctuation" >.</span>key <span class="token operator" >==</span> <span class="token string" >'InvoiceDetails'</span>
        <span class="token operator" >?</span> <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h1</span><span class="token punctuation" >></span></span>Invoice #<span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>route<span class="token punctuation" >.</span>params<span class="token punctuation" >.</span>id<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h1</span><span class="token punctuation" >></span></span>
        <span class="token punctuation" >:</span> <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h1</span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>route<span class="token punctuation" >.</span>key<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h1</span><span class="token punctuation" >></span></span>
<span class="token punctuation" >}</span>
</code></pre><p data-reactid="519"><!-- react-text: 520 -->And if you navigate to <!-- /react-text --><code data-reactid="521">/invoices/add</code><!-- react-text: 522 -->, you should now see the text “Invoice #add”!<!-- /react-text --></p><p data-reactid="523"><!-- react-text: 524 -->Which is great and all, but what if you actually want <!-- /react-text --><code data-reactid="525">/invoices/add</code><!-- react-text: 526 --> to display an “Add Invoice” form? And what if you want that add form to share a common layout with the “View Invoice” page?<!-- /react-text --></p><h2 id="routable-components-aka-screens" data-reactid="527">Routable Components, aka Screens</h2><p data-reactid="528"><!-- react-text: 529 -->Trying to force all of your invoicing information into a single <!-- /react-text --><code data-reactid="530">Root</code><!-- react-text: 531 --> Component would be kind of claustrophobic, so let’s create a new <!-- /react-text --><code data-reactid="532">InvoicesScreen</code><!-- react-text: 533 --> component. And since master-detail views are all the rage, something like this should put you on the path to creating the next unicorn:<!-- /react-text --></p><pre class="language-js" data-reactid="534"><code data-reactid="535"><span class="token comment" spellcheck="true">// InvoicesScreen.jsx</span>

<span class="token keyword" >import</span> React<span class="token punctuation" >,</span> <span class="token punctuation" >{</span> Component <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'react'</span><span class="token punctuation" >;</span>

<span class="token keyword" >class</span> <span class="token class-name" >InvoicesScreen</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
    <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
                <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>ul</span><span class="token punctuation" >></span></span>
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span>Invoice <span class="token number" >1</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span>Invoice <span class="token number" >2</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>hr</span> <span class="token punctuation" >/></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
                    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span>Add Invoice<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
                <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>ul</span><span class="token punctuation" >></span></span>
                <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span><span class="token keyword" >new</span> <span class="token class-name" >or</span> existing invoice<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
        <span class="token punctuation" >)</span>
    <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
</code></pre><p data-reactid="536"><strong data-reactid="537"><!-- react-text: 538 -->This tutorial is still a WIP. The below points are an outline for what is to come. If you’d like to help expand on these points, <!-- /react-text --><a href="https://github.com/jamesknelson/junctions/" data-reactid="539">Pull Requests</a><!-- react-text: 540 --> are welcome!<!-- /react-text --></strong></p><ul data-reactid="541"><li data-reactid="542">While we haven’t added any link tags yet, let’s have a look at the structure</li><li data-reactid="543">Notice how what we have is a list of links, and a block of content.</li><li data-reactid="544">This is similar to the navbar and content in a standard layout.</li><li data-reactid="545"><!-- react-text: 546 -->In both cases, what we have a list of links acting as a <!-- /react-text --><em data-reactid="547">switch</em><!-- react-text: 548 --> for the content that should be displayed.<!-- /react-text --></li><li data-reactid="549">Wherever you see this pattern, you can represent the options of the switch with a Junction.</li></ul><pre class="language-js" data-reactid="550"><code data-reactid="551"><span class="token keyword" >static</span> junction <span class="token operator" >=</span> <span class="token function" >createJunction</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    Invoice<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        path<span class="token punctuation" >:</span> <span class="token string" >'/:id'</span><span class="token punctuation" >,</span>
        paramTypes<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
            invoiceId<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> required<span class="token punctuation" >:</span> <span class="token boolean" >true</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
        <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    Add<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        path<span class="token punctuation" >:</span> <span class="token string" >'/add'</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span>
</code></pre><ul data-reactid="552"><li data-reactid="553"><p data-reactid="554"><!-- react-text: 555 -->Note that our paths are <!-- /react-text --><em data-reactid="556">relative</em><!-- react-text: 557 -->.<!-- /react-text --></p></li><li data-reactid="558"><p data-reactid="559">This is because we don’t know where our component will be mounted.</p></li><li data-reactid="560"><p data-reactid="561"><!-- react-text: 562 -->Components need to be reusable. And to enable this, Junctions will use these <!-- /react-text --><code data-reactid="563">path</code><!-- react-text: 564 --> arguments as <!-- /react-text --><em data-reactid="565">suggestions</em><!-- react-text: 566 --> when deciding what URL to assign to the component. But the actual URLs are decided by junctions – not your component.<!-- /react-text --></p></li><li data-reactid="567"><p data-reactid="568"><!-- react-text: 569 -->You may be worried how <!-- /react-text --><em data-reactid="570">junctions.js</em><!-- react-text: 571 --> will handle the ‘/add’ URL. After all, it matches both paths.<!-- /react-text --></p></li><li data-reactid="572"><p data-reactid="573"><!-- react-text: 574 -->When there is a conflict like this, Junctions will always use the <!-- /react-text --><em data-reactid="575">most specific</em><!-- react-text: 576 --> URL. In this case, <!-- /react-text --><code data-reactid="577">/add</code><!-- react-text: 578 --> is more specific than <!-- /react-text --><code data-reactid="579">/:id</code><!-- react-text: 580 -->, so it will be used.<!-- /react-text --></p></li><li data-reactid="581"><p data-reactid="582">Note that the order that the paths are specified is not important. Only the specificity.</p></li><li data-reactid="583"><p data-reactid="584"><!-- react-text: 585 -->Recall that a <!-- /react-text --><code data-reactid="586">Junction</code><!-- react-text: 587 --> object just specifies the types of routes which a component can render.<!-- /react-text --></p></li><li data-reactid="588"><p data-reactid="589"><!-- react-text: 590 -->In this case, our <!-- /react-text --><code data-reactid="591">InvoicesScreen</code><!-- react-text: 592 --> component can render an <!-- /react-text --><code data-reactid="593">Invoice</code><!-- react-text: 594 --> route, or an <!-- /react-text --><code data-reactid="595">Add</code><!-- react-text: 596 --> route.<!-- /react-text --></p></li><li data-reactid="597"><p data-reactid="598"><!-- react-text: 599 -->With this in mind, we can assume that wherever <!-- /react-text --><code data-reactid="600">InvoicesScreen</code><!-- react-text: 601 --> is mounted, it will receive a <!-- /react-text --><code data-reactid="602">route</code><!-- react-text: 603 --> prop whose key will either be <!-- /react-text --><code data-reactid="604">&quot;Invoice&quot;</code><!-- react-text: 605 --> or <!-- /react-text --><code data-reactid="606">&quot;Add&quot;</code><!-- react-text: 607 -->.<!-- /react-text --></p></li><li data-reactid="608"><p data-reactid="609"><!-- react-text: 610 -->We also know that if the key is <!-- /react-text --><code data-reactid="611">&quot;Invoice&quot;</code><!-- react-text: 612 -->, the route object will contain a <!-- /react-text --><code data-reactid="613">params</code><!-- react-text: 614 --> object that contains the invoice id.<!-- /react-text --></p></li><li data-reactid="615"><p data-reactid="616">Let’s add support for this to the component</p></li></ul><pre class="language-js" data-reactid="617"><code data-reactid="618"><span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> route <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>route

    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h2</span><span class="token punctuation" >></span></span>Invoices<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h2</span><span class="token punctuation" >></span></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>ul</span><span class="token punctuation" >></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span>Invoice <span class="token number" >1</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span>Invoice <span class="token number" >2</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span> <span class="token attr-name" >className</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>divider<span class="token punctuation" >"</span></span> <span class="token punctuation" >/></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span><span class="token punctuation" >></span></span>Add Invoice<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>ul</span><span class="token punctuation" >></span></span>
        <span class="token punctuation" >{</span>route <span class="token operator" >&amp;&amp;</span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
                <span class="token punctuation" >{</span>route<span class="token punctuation" >.</span>key <span class="token operator" >==</span> <span class="token string" >'Add'</span>
                    <span class="token operator" >?</span> <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h3</span><span class="token punctuation" >></span></span>New <span class="token class-name" >Invoice</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h3</span><span class="token punctuation" >></span></span>
                    <span class="token punctuation" >:</span> <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h3</span><span class="token punctuation" >></span></span>Invoice <span class="token punctuation" >{</span>route<span class="token punctuation" >.</span>params<span class="token punctuation" >.</span>invoiceId<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h3</span><span class="token punctuation" >></span></span>
                <span class="token punctuation" >}</span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
        <span class="token punctuation" >}</span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
<span class="token punctuation" >}</span>
</code></pre><ul data-reactid="619"><li data-reactid="620"><!-- react-text: 621 -->Now that the component can handle the supplied route, all that is left is to pass the correct <!-- /react-text --><code data-reactid="622">route</code><!-- react-text: 623 --> prop into our <!-- /react-text --><code data-reactid="624">&lt;InvoicesScreen&gt;</code><!-- react-text: 625 --> element.<!-- /react-text --></li><li data-reactid="626"><!-- react-text: 627 -->But where does the <!-- /react-text --><code data-reactid="628">route</code><!-- react-text: 629 --> prop come from?<!-- /react-text --></li><li data-reactid="630"><!-- react-text: 631 -->It comes from the <!-- /react-text --><code data-reactid="632">&lt;Router&gt;</code><!-- react-text: 633 -->!<!-- /react-text --></li><li data-reactid="634"><!-- react-text: 635 -->But doesn’t the <!-- /react-text --><code data-reactid="636">route</code><!-- react-text: 637 --> that <!-- /react-text --><code data-reactid="638">&lt;Router&gt;</code><!-- react-text: 639 --> supplies correspond to the <!-- /react-text --><code data-reactid="640">App</code><!-- react-text: 641 --> component itself?<!-- /react-text --></li><li data-reactid="642"><!-- react-text: 643 -->It actually corresponds to both. Just like a React element holds its own props as well as its children, a <!-- /react-text --><em data-reactid="644">junctions.js</em><!-- react-text: 645 --> route holds its own params as well as the routes for any child components.<!-- /react-text --></li><li data-reactid="646"><!-- react-text: 647 -->These “child” routes are stored under the <!-- /react-text --><code data-reactid="648">next</code><!-- react-text: 649 --> prop.<!-- /react-text --></li></ul><pre class="language-js" data-reactid="650"><code data-reactid="651"><span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Router</span>
            <span class="token attr-name" >history</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>history<span class="token punctuation" >}</span></span>
            <span class="token attr-name" >junction</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>App<span class="token punctuation" >.</span>junction<span class="token punctuation" >}</span></span>
            <span class="token attr-name" >render</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> route <span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span>
                route<span class="token punctuation" >.</span>key <span class="token operator" >==</span> <span class="token string" >'Invoices'</span>
                    <span class="token operator" >?</span> <span class="token operator" >&lt;</span>InvoicesScreen route<span class="token punctuation" >=</span><span class="token punctuation" >{</span>route<span class="token punctuation" >.</span>next<span class="token punctuation" >}</span></span> <span class="token punctuation" >/></span></span>
                    <span class="token punctuation" >:</span> <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h1</span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>route<span class="token punctuation" >.</span>key<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h1</span><span class="token punctuation" >></span></span>
            <span class="token punctuation" >}</span>
        <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>
</code></pre><ul data-reactid="652"><li data-reactid="653">But while this code is mostly correct, there is still one thing missing.</li><li data-reactid="654"><!-- react-text: 655 -->Currently, <!-- /react-text --><code data-reactid="656">route.next</code><!-- react-text: 657 --> will always be null.<!-- /react-text --></li><li data-reactid="658"><!-- react-text: 659 -->Remember that the junction for the <!-- /react-text --><code data-reactid="660">InvoicesScreen</code><!-- react-text: 661 --> component only specified <!-- /react-text --><em data-reactid="662">relative</em><!-- react-text: 663 --> paths, not full URLs.<!-- /react-text --></li><li data-reactid="664"><code data-reactid="665">&lt;InvoicesScreen&gt;</code><!-- react-text: 666 --> is a child of the <!-- /react-text --><code data-reactid="667">App</code><!-- react-text: 668 --> component that is rendered whenever the app’s path is <!-- /react-text --><code data-reactid="669">/invoices</code><!-- react-text: 670 -->. Because of this, it is probably obvious to you that the paths of the <!-- /react-text --><code data-reactid="671">InvoicesScreen</code><!-- react-text: 672 --> junction should be relative to <!-- /react-text --><code data-reactid="673">/invoices</code><!-- react-text: 674 -->.<!-- /react-text --></li><li data-reactid="675"><!-- react-text: 676 -->But Junctions doesn’t know this unless you tell it. And to do so, you must specify the <!-- /react-text --><code data-reactid="677">next</code><!-- react-text: 678 --> Junction when the <!-- /react-text --><code data-reactid="679">Invoices</code><!-- react-text: 680 --> route is active:<!-- /react-text --></li></ul><pre class="language-js" data-reactid="681"><code data-reactid="682"><span class="token keyword" >static</span> junction <span class="token operator" >=</span> <span class="token function" >createJunction</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    Dashboard<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >default</span><span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
        path<span class="token punctuation" >:</span> <span class="token string" >'/dashboard'</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    Invoices<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        path<span class="token punctuation" >:</span> <span class="token string" >'/invoices'</span><span class="token punctuation" >,</span>
        next<span class="token punctuation" >:</span> InvoicesScreen<span class="token punctuation" >.</span>junction<span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span>
</code></pre><ul data-reactid="683"><li data-reactid="684"><p data-reactid="685"><!-- react-text: 686 -->And there you have it. This should work if you type some locations in the address bar manually. For example, try <!-- /react-text --><code data-reactid="687">/invoices/0001</code><!-- react-text: 688 --> or <!-- /react-text --><code data-reactid="689">/invoices/add</code><!-- react-text: 690 -->.<!-- /react-text --></p></li><li data-reactid="691"><p data-reactid="692"><!-- react-text: 693 -->All that is left is to add links to the <!-- /react-text --><code data-reactid="694">InvoicesScreen</code><!-- react-text: 695 --> component<!-- /react-text --></p></li><li data-reactid="696"><p data-reactid="697"><!-- react-text: 698 -->But how do we choose what the value of <!-- /react-text --><code data-reactid="699">to</code><!-- react-text: 700 --> should be?<!-- /react-text --></p></li><li data-reactid="701"><p data-reactid="702"><code data-reactid="703">InvoicesScreen</code><!-- react-text: 704 --> is a <!-- /react-text --><em data-reactid="705">component</em><!-- react-text: 706 -->. Even if we know where it’ll be mounted within this example, we can’t be sure that it will <!-- /react-text --><em data-reactid="707">always</em><!-- react-text: 708 --> be mounted under <!-- /react-text --><code data-reactid="709">/invoices</code><!-- react-text: 710 -->.<!-- /react-text --></p></li><li data-reactid="711"><p data-reactid="712">For example, what if we’d like to display a list of invoices within a page for a given customer? Or what if we’d like to display a list of invoices within a modal?</p></li><li data-reactid="713"><p data-reactid="714"><!-- react-text: 715 -->The problem is that <!-- /react-text --><code data-reactid="716">pathname</code><!-- react-text: 717 --> changes depending on the context that the component is used in.<!-- /react-text --></p></li><li data-reactid="718"><p data-reactid="719"><!-- react-text: 720 -->This is in contrast to the component’s <!-- /react-text --><code data-reactid="721">route</code><!-- react-text: 722 --> prop – which only contains information specific to the component itself.<!-- /react-text --></p></li><li data-reactid="723"><p data-reactid="724"><!-- react-text: 725 -->In fact, your component’s <!-- /react-text --><code data-reactid="726">Junction</code><!-- react-text: 727 --> object actually provides a <!-- /react-text --><code data-reactid="728">createRoute()</code><!-- react-text: 729 --> method that lets you create <!-- /react-text --><code data-reactid="730">Route</code><!-- react-text: 731 --> objects that point within your component.<!-- /react-text --></p></li><li data-reactid="732"><p data-reactid="733"><!-- react-text: 734 -->You can probably see where this is going. Route objects are relative. And ideally, we’d be able to specify a <!-- /react-text --><code data-reactid="735">&lt;Link&gt;</code><!-- react-text: 736 --> element’s with something relative, like routes:<!-- /react-text --></p></li></ul><pre class="language-jsx" data-reactid="737"><code data-reactid="738"><span class="token comment" spellcheck="true">// This won't work</span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span> <span class="token attr-name" >to</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>junction<span class="token punctuation" >.</span><span class="token function" >createRoute</span><span class="token punctuation" >(</span><span class="token string" >'Invoice'</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> invoiceId<span class="token punctuation" >:</span> <span class="token number" >1</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Invoice <span class="token number" >1</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span> <span class="token attr-name" >to</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>junction<span class="token punctuation" >.</span><span class="token function" >createRoute</span><span class="token punctuation" >(</span><span class="token string" >'Invoice'</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> invoiceId<span class="token punctuation" >:</span> <span class="token number" >2</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Invoice <span class="token number" >2</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span> <span class="token attr-name" >to</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>junction<span class="token punctuation" >.</span><span class="token function" >createRoute</span><span class="token punctuation" >(</span><span class="token string" >'Add'</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Add Invoice<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span>
</code></pre><ul data-reactid="739"><li data-reactid="740"><!-- react-text: 741 -->But this won’t work, because <!-- /react-text --><code data-reactid="742">Link</code><!-- react-text: 743 --> components take <!-- /react-text --><code data-reactid="744">Location</code><!-- react-text: 745 --> objects. And since the browser History API doesn’t understand routes, there is no way around this.<!-- /react-text --></li><li data-reactid="746"><em data-reactid="747">If only there was some way to convert routes into locations.</em></li><li data-reactid="748"><em data-reactid="749"><!-- react-text: 750 -->Something like a <!-- /react-text --><code data-reactid="751">locate</code><!-- react-text: 752 --> function handily passed into our component.<!-- /react-text --></em></li></ul><pre class="language-jsx" data-reactid="753"><code data-reactid="754"><span class="token comment" spellcheck="true">// This will work, if `locate` exists</span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span> <span class="token attr-name" >to</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token function" >locate</span><span class="token punctuation" >(</span>junction<span class="token punctuation" >.</span><span class="token function" >createRoute</span><span class="token punctuation" >(</span><span class="token string" >'Invoice'</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> invoiceId<span class="token punctuation" >:</span> <span class="token number" >1</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Invoice <span class="token number" >1</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span> <span class="token attr-name" >to</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token function" >locate</span><span class="token punctuation" >(</span>junction<span class="token punctuation" >.</span><span class="token function" >createRoute</span><span class="token punctuation" >(</span><span class="token string" >'Invoice'</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> invoiceId<span class="token punctuation" >:</span> <span class="token number" >2</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Invoice <span class="token number" >2</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Link</span> <span class="token attr-name" >to</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token function" >locate</span><span class="token punctuation" >(</span>junction<span class="token punctuation" >.</span><span class="token function" >createRoute</span><span class="token punctuation" >(</span><span class="token string" >'Add'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Add Invoice<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>Link</span><span class="token punctuation" >></span></span>
</code></pre><ul data-reactid="755"><li data-reactid="756"><!-- react-text: 757 -->And as you’ve probably guessed, <!-- /react-text --><code data-reactid="758">locate</code><!-- react-text: 759 --> does exist!<!-- /react-text --></li><li data-reactid="760">It just needs to be passed in from your component’s parent:</li></ul><pre class="language-jsx" data-reactid="761"><code data-reactid="762"><span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Router</span>
            <span class="token attr-name" >history</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>history<span class="token punctuation" >}</span></span>
            <span class="token attr-name" >junction</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>App<span class="token punctuation" >.</span>junction<span class="token punctuation" >}</span></span>
            <span class="token attr-name" >render</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> route <span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span>
                route<span class="token punctuation" >.</span>key <span class="token operator" >==</span> <span class="token string" >'Invoices'</span>
                    <span class="token operator" >?</span> <span class="token operator" >&lt;</span>InvoicesScreen
                        route<span class="token punctuation" >=</span><span class="token punctuation" >{</span>route<span class="token punctuation" >.</span>next<span class="token punctuation" >}</span>
                        locate<span class="token punctuation" >=</span><span class="token punctuation" >{</span>route<span class="token punctuation" >.</span>locate<span class="token punctuation" >}</span></span>
                      <span class="token punctuation" >/></span></span>
                    <span class="token punctuation" >:</span> <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h1</span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>route<span class="token punctuation" >.</span>key<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h1</span><span class="token punctuation" >></span></span>
            <span class="token punctuation" >}</span>
        <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>
</code></pre><ul data-reactid="763"><li data-reactid="764"><!-- react-text: 765 -->This is a little verbose, but the beauty of <!-- /react-text --><em data-reactid="766">junctions.js</em><!-- react-text: 767 --> is it gives you freedom to write your own helpers.<!-- /react-text --></li></ul></div></div><div class="MenuWrapper-arrows" data-reactid="768"><a class="MenuWrapper-arrows-next" href="/guide/introduction/do-i-need-a-router" data-reactid="769">Do I Need A Router?</a></div></div></div></div></div><div class="RootWrapper-footer" data-reactid="770"><!-- react-text: 771 -->Copyright © 2017 <!-- /react-text --><a href="http://www.jamesknelson.com" data-reactid="772">James K Nelson</a></div></div>
  </div>

  
    <script type="text/javascript" src="/vendor-f52378ee390a69353100.js"></script>
  
    <script type="text/javascript" src="/2.docs-tutorial-770db3f13dc0ecd48616.js"></script>
  
    <script type="text/javascript" src="/entry-9b95212b9ee950a577eb.js"></script>
  
</body>
</html>
